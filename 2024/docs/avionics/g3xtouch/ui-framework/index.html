<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-avionics/g3xtouch/ui-framework" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>G3X Touch UI Framework | MSFS Avionics Frameworks and Instruments</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://microsoft.github.io/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/ui-framework><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="G3X Touch UI Framework | MSFS Avionics Frameworks and Instruments"><meta data-rh=true name=description content="UI Views and the View Stack"><meta data-rh=true property=og:description content="UI Views and the View Stack"><link data-rh=true rel=icon href=/msfs-avionics-mirror/2024/img/favicon.ico><link data-rh=true rel=canonical href=https://microsoft.github.io/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/ui-framework><link data-rh=true rel=alternate href=https://microsoft.github.io/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/ui-framework hreflang=en><link data-rh=true rel=alternate href=https://microsoft.github.io/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/ui-framework hreflang=x-default><link rel=stylesheet href=/msfs-avionics-mirror/2024/assets/css/styles.f3419bc0.css><script src=/msfs-avionics-mirror/2024/assets/js/runtime~main.2cbb36f5.js defer></script><script src=/msfs-avionics-mirror/2024/assets/js/main.aa633c05.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"dark",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/msfs-avionics-mirror/2024/><div class=navbar__logo><img src=/msfs-avionics-mirror/2024/img/logo.png alt="MSFS Avionics Framework Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/msfs-avionics-mirror/2024/img/logo.png alt="MSFS Avionics Framework Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MSFS Avionics Development</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/msfs-avionics-mirror/2024/docs/intro>Getting Started</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/msfs-avionics-mirror/2024/docs/api/framework/globals>Framework API</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/msfs-avionics-mirror/2024/docs/api/garminsdk/globals>Garmin API</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/msfs-avionics-mirror/2024/docs/plugins/overview>Plugin Development</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/msfs-avionics-mirror/2024/docs/avionics/>Avionics Development</a></div><div class="navbar__items navbar__items--right"><div class=navbarSearchContainer_Bca1></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/msfs-avionics-mirror/2024/docs/intro>MSFS Avionics Framework</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/msfs-avionics-mirror/2024/docs/getting-started/setting-up-your-environment>Getting Started</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/msfs-avionics-mirror/2024/docs/interacting-with-msfs/simvars>Interacting with MSFS</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/msfs-avionics-mirror/2024/docs/api/framework/globals>API References</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/msfs-avionics-mirror/2024/docs/plugins/overview>Plugin Development</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/msfs-avionics-mirror/2024/docs/framework-systems/subscriptions/intro-to-subscriptions>Framework Systems</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/msfs-avionics-mirror/2024/docs/avionics/>Avionics Development</a><button aria-label="Collapse sidebar category 'Avionics Development'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g1000/overview>G1000 Development</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/msfs-avionics-mirror/2024/docs/api/g3000common/globals>G3000 Development</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/gns/overview>GNS Development</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/globals>G3X Touch Development</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/globals>G3X Touch API</a><button aria-label="Expand sidebar category 'G3X Touch API'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/overview>Overview</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/instrument-setup>Instrument Setup</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/model-behaviors>Model Behaviors</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/panel-xml-basics>panel.xml Basics</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/panel-xml-tag-documentation>panel.xml Tag Documentation</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/plugins>Plugins</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/ui-framework>UI Framework</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/engine-display>Engine Display</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/panel-xml-engine-gauges>panel.xml Engine Gauges</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/cas>CAS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/external-navigators>External Navigators</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/h-event-list>H Event List</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/msfs-avionics-mirror/2024/docs/api/wt21shared/globals>WT21 Development</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/epic2/overview>Epic2 Development</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/msfs-avionics-mirror/2024/docs/avionics/uns/overview>UNS-1Lw Development</a></div></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/msfs-avionics-mirror/2024/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/msfs-avionics-mirror/2024/docs/avionics/><span itemprop=name>Avionics Development</span></a><meta itemprop=position content=1><li class=breadcrumbs__item><span class=breadcrumbs__link>G3X Touch Development</span><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>UI Framework</span><meta itemprop=position content=3></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>G3X Touch UI Framework</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=ui-views-and-the-view-stack>UI Views and the View Stack<a href=#ui-views-and-the-view-stack class=hash-link aria-label="Direct link to UI Views and the View Stack" title="Direct link to UI Views and the View Stack">​</a></h2>
<p>The G3X Touch's UI framework is centered around the concept of <em>views</em> and the <em>view stack</em>.</p>
<p><em>Views</em> render content to be displayed on the screen and handle user interactions with the touchscreen and bezel controls (knobs and buttons). All views are FS components that implement the interface <a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/interfaces/UiView><code>UiView</code></a>. There are two types of views: <em>pages</em> and <em>popups</em>. Only one page can be open at a time. Meanwhile, multiple popups can be open simultaneously.</p>
<p>Open views are stored on the <em>view stack</em>. The open page is located at the bottom of the stack, and popups are pushed onto the stack in the order in which they were opened. The view at the top of the stack is considered the <em>active view</em>. Typically, all user interactions are routed to the active view.</p>
<p>Each view stack has two layers: the <em>main layer</em> and the <em>overlay layer</em>. As the name implies, views rendered in the overlay layer always appear on top of any views in the main layer. The main layer contains the open page and may also contain popups. The overlay layer only contains popups.</p>
<p>The view stack also maintains a history. Each time a view is pushed to the view stack, a new snapshot of the view stack state - a <em>history state</em> - is created and pushed onto the <em>history stack</em>. This allows previous history states to be restored via a 'Back' operation. The current state of the view stack is the <em>active history state</em>.</p>
<p>Every view stack maintains the same "original" history state: the open page is a special view called the <em>empty</em> view with no open popups. This history state, also referred to as the <em>empty page state</em>, is always maintained by the view stack and cannot be discarded; attempting to execute a Back operation while the empty page state is active has no effect.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=view-lifecycle>View Lifecycle<a href=#view-lifecycle class=hash-link aria-label="Direct link to View Lifecycle" title="Direct link to View Lifecycle">​</a></h2>
<p>UI views have a complicated lifecycle, since they can move between many different states. Each view stack has its own instance of any particular view. Therefore, views of the same type in different stacks do not implicitly share state.</p>
<p>A view is considered <em>in-use</em> when it appears in any history state that is currently in the history stack (including the active history state) and <em>out-of-use</em> otherwise.</p>
<p>A view is considered <em>open</em> when it appears in the active history state and <em>closed</em> otherwise. The <code>onOpen()</code> and <code>onClose()</code> lifecycle methods are called when a view switches between these two states.</p>
<p>Finally, a view is considered <em>active</em> or <em>resumed</em> when it appears at the top of the active history state, and <em>inactive</em> or <em>paused</em> otherwise. The <code>onResume()</code> and <code>onPause()</code> lifecycle methods are called when a view switches between these two states. Each view stack only has one active view at a time, and it is with this view that the user primarily interacts.</p>
<p>Views are always created initially in an <em>out of use</em> state. Views can also have different lifespans, determined by their <em>lifecycle policy</em>. The different possible lifecycle policies are included as members of the <code>UiViewLifecyclePolicy</code> enum:</p>
<ul>
<li>Static: The view is created immediately when it is registered (see below) and is never destroyed. Should only be used by views that have persistent state and need to be created when the G3X Touch instrument is first initialized.</li>
<li>Persistent: The view is created immediately before the first time it transitions to an in-use state and is never destroyed. Should be used by views that have persistent state.</li>
<li>Transient: The view is created immediately before the first time it transitions to an in-use state and is destroyed when it transitions back to an out-of-use state. Should be used by views that do not have persistent state.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>Views have a non-negligible memory footprint when created. Therefore, it is recommended that the transient lifecycle policy be used whenever possible to reduce memory load and increase stability in memory-limited scenarios oftentimes seen in low-spec PCs and the XBox consoles.</div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_BuS1><p>Ensure that transient views properly release all resources they use when they are destroyed to avoid memory leaks. Cleanup code should be included in the view's <code>destroy()</code> method.<p>It is also good practice to ensure <em>all</em> views contain cleanup code, regardless of their lifecycle policy. This is because a mod or plugin can theoretically replace any registered view with another one (see <a href=#registering-views>Registering Views</a>).</div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=panes>Panes<a href=#panes class=hash-link aria-label="Direct link to Panes" title="Direct link to Panes">​</a></h2>
<p>Each GDU has two panes: the PFD pane and the MFD pane. Each pane maintains its own independent view stack. One of these panes is always visible, while the other can be either visible or hidden depending on whether the GDU is in Fullscreen or Splitscreen mode. The always-visible pane is called the <em>main pane</em> while the other is called the <em>splitscreen pane</em>. For PFD GDUs, the PFD pane is the main pane. For MFD GDUs, the MFD pane is the main pane.</p>
<p>When a pane is hidden, its view stack reverts to the empty page state.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=the-ui-service>The UI Service<a href=#the-ui-service class=hash-link aria-label="Direct link to The UI Service" title="Direct link to The UI Service">​</a></h2>
<p>Each GDU contains one instance of <a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/classes/UiService><code>UiService</code></a>, which is the class that controls all view-related state and logic. Switching between Fullscreen and Splitscreen modes, opening and closing views - all of these actions and more are handled by <code>UiService</code>. All views are passed a reference to their parent <code>UiService</code> instance as a prop.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=registering-views>Registering Views<a href=#registering-views class=hash-link aria-label="Direct link to Registering Views" title="Direct link to Registering Views">​</a></h2>
<p>Views must be registered with <code>UiService</code> before they can be used. Each view is registered under a unique string key, which is then used to open and retrieve the view from <code>UiService</code>. Views are registered on a per-view stack layer basis; different views may be registered under the same key to different view stacks and even to different layers within the same view stack. Finally, views are registered as factories - functions that create and return the registered view as a <code>VNode</code> - instead of directly as instances of the view. This is to allow <code>UiService</code> to handle the process of creating views in accordance with their lifecycle policies.</p>
<p>If a view is registered to a view stack layer under a key that is already registered to that layer, then the new view will replace the existing view registered under that key. If an instance of the existing view has already been created, it will be destroyed when it is replaced.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>The <a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/enumerations/UiViewKeys><code>UiViewKeys</code></a> enum contains all UI view keys defined and used by the base G3X Touch.</div></div>
<p>UI views can be registered by plugins using the <a href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/plugins#ui-views><code>registerUiViews()</code></a> method.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=interaction-events>Interaction Events<a href=#interaction-events class=hash-link aria-label="Direct link to Interaction Events" title="Direct link to Interaction Events">​</a></h2>
<p>The user interacts with the GDU in two ways: (1) through "touch" (mouse) events, and (2) through manipulating the GDU's "physical" knobs and buttons. Touch events are handled by various components rendered on the GDU screen that simulate touchscreen buttons, sliders, touchpads, etc. Meanwhile, the "physical" events are handled using the <code>UiInteractionEvent</code> API.</p>
<p>When a user manipulates a physical knob or button, the interaction generates a <code>UiInteractionEvent</code>. The event is then routed to a series of handlers implementing the <code>UiInteractionHandler</code> interface. As each handler is notified of the event, it can either choose to handle the event or do nothing. If the event is handled, then no further handlers will be notified of the event. If the event is not handled, then the next handler is notified and the process repeats.</p>
<p>The event routing path depends on whether the event originated from a knob or a button. For buttons, the path is always the same:</p>
<ol>
<li>The active UI view in the MFD pane.</li>
<li>The active UI view in the PFD pane.</li>
<li>The default interaction handler defined in the UI service.</li>
</ol>
<p>For knobs, the path depends on which knob was manipulated. If the <em>single</em> knob was manipulated (only found on GDU 470 units, which are not currently supported), then the path is the same as that for buttons (above). If the <em>left</em> or <em>right</em> knob was manipulated (only found on GDU 460 units), then the path is as follows:</p>
<ol>
<li>The active UI view in the pane displayed on the same side as the manipulated knob (this can be <em>either</em> the PFD or MFD pane for either knob depending on how the user has configured the GDU). If the GDU is in Fullscreen mode, then the visible pane receives events from both left and right knobs.</li>
<li>The default interaction handler defined in the UI service.</li>
</ol>
<p>Because left and right knob events are only routed to the pane that is "supposed to" handle them, views and other interaction handlers invoked by views need not concern themselves with whether they are in the left or right pane when receiving a left/right knob event. They can simply handle (or not) each knob event "as-is" when it is received.</p>
<p>The <a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/classes/UiInteractionUtils><code>UiInteractionUtils</code></a> and <a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/classes/UiKnobUtils><code>UiKnobUtils</code></a> classes contain utility methods for working with the interaction events.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=bezel-rotary-knob-labels>Bezel Rotary Knob Labels<a href=#bezel-rotary-knob-labels class=hash-link aria-label="Direct link to Bezel Rotary Knob Labels" title="Direct link to Bezel Rotary Knob Labels">​</a></h2>
<p>Each GDU displays a contextual label for each bezel rotary knob in the status bar on the bottom of the screen. These labels are meant to describe the current functionality of the knobs.</p>
<p><img decoding=async loading=lazy alt="Knob Labels" src=/msfs-avionics-mirror/2024/assets/images/status-bar-knob-label-031c67b5116f19f41f1b5f6ac8cdb9a8.jpg width=274 height=111 class=img_ev3q></p>
<p>Views can control what appears for each label using the <code>knobLabelState</code> property defined by <code>UiView</code>. Each knob has three actions that can each have its own label text: outer rotate, inner rotate, and inner push. The <code>knobLabelState</code> property is a map of knob actions to label text requested by the view. Knob actions are represented by members of the <a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/enumerations/UiKnobId><code>UiKnobId</code></a> enum. Each status bar knob label is automatically formatted based on the requested label text for each of the knob's actions.</p>
<p>The requested label state defined by a view is automatically applied to the appropriate label when the view becomes the active view of its view stack. Therefore, just as with handling knob interaction events, views need not worry about whether they are the active view or are in the left or right pane when requesting a specific knob label state. They can request label state as if they have control of all knobs at all times, and the UI service will ensure the requested label states are routed only to the appropriate labels.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=mfd-main-pages>MFD Main Pages<a href=#mfd-main-pages class=hash-link aria-label="Direct link to MFD Main Pages" title="Direct link to MFD Main Pages">​</a></h2>
<p>The MFD pane has a special UI view called the <em>main view</em>. This view is opened as a page in the MFD view stack and displays the <em>MFD main pages</em>. MFD main pages are components that implement the interface <a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/interfaces/MfdPage><code>MfdPage</code></a>. While the main view is open and active, the user can select one of several MFD main pages to be displayed, such as the Map page or the Active Flight Plan page.</p>
<p>Here is an example of the main view with the Map page selected and displayed.</p>
<p><img decoding=async loading=lazy alt="MFD Main View" src=/msfs-avionics-mirror/2024/assets/images/mfd-main-view-cfc221dc8adb67774251c324e9618486.jpg width=330 height=417 class=img_ev3q></p>
<p>MFD main pages have a lifecycle logic that is similar to that of UI views. A main page is <em>staged</em> when it is selected by a user and <em>unstaged</em> otherwise. After a page becomes staged and its parent main view is open, there is a short delay before the page is displayed. The page is <em>open</em> when it is displayed, and <em>closed</em> when it is not displayed. A main page can only be open when its parent main view is open. Finally, the open main page is <em>resumed</em> when its parent main view is resumed and <em>paused</em> when its parent main view is paused. Like with UI views, lifecycle methods are called when a main page transitions between any of these lifecycle states.</p>
<p>MFD main pages also handle UI interaction events and can request knob label states. While the main view is the active view, it will route all interaction events to the open and resumed main page before attempting to handle the events itself. The main view also passes  the requested label state of its open main page through to the UI service. If the main view and its open main page both request a label for the same knob action, the label requested by the main page takes priority.</p>
<p>MFD main pages must be registered before they can be selected and displayed. Registration is handled through a registrar (<a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/classes/MfdMainPageRegistrar><code>MfdMainPageRegistrar</code></a>). Like with views, main pages are registered using factories. Unlike views, however, main pages all use one lifecycle policy: main pages are created immediately before the first time they are staged and are never destroyed.</p>
<p>If an MFD main page is registered under a key that is already registered, then the new page will replace the existing page registered under that key.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>The <a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/enumerations/MfdMainPageKeys><code>MfdMainPageKeys</code></a> enum contains all MFD main page keys defined and used by the base G3X Touch.</div></div>
<p>MFD main pages can be registered by plugins using the <a href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/plugins#mfd-main-pages><code>registerMfdMainPages()</code></a> method.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=pfd-pages>PFD Pages<a href=#pfd-pages class=hash-link aria-label="Direct link to PFD Pages" title="Direct link to PFD Pages">​</a></h2>
<p>The default page on the PFD pane is the PFD instruments page, whose key is <code>UiViewKeys.PfdInstruments</code>. On an MFD GDU, the user can configure the PFD pane to display other pages. These pages implement the <code>UiView</code> interface. However, instead of being directly registered with <code>UiService</code>, PFD pages are registered through a registrar (<a href=/msfs-avionics-mirror/2024/docs/api/g3xtouchcommon/classes/PfdPageRegistrar><code>PfdPageRegistrar</code></a>). Once a PFD page is registered, users will be able to select the page via the Display Setup menu on MFD GDUs:</p>
<p><img decoding=async loading=lazy alt="PFD Page Select" src=/msfs-avionics-mirror/2024/assets/images/pfd-page-select-f9385e5102cd7136485666eef8af0ca1.jpg width=466 height=294 class=img_ev3q></p>
<p>If a PFD page is registered under a key that is already registered, then the new page will replace the existing page registered under that key. If an instance of the existing page has already been created, then it will be destroyed when it is replaced.</p>
<p>PFD pages can be registered by plugins using the <a href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/plugins#pfd-pages><code>registerPfdPages()</code></a> method.</div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/plugins><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Plugins</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/msfs-avionics-mirror/2024/docs/avionics/g3xtouch/engine-display><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Engine Display</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#ui-views-and-the-view-stack class="table-of-contents__link toc-highlight">UI Views and the View Stack</a><li><a href=#view-lifecycle class="table-of-contents__link toc-highlight">View Lifecycle</a><li><a href=#panes class="table-of-contents__link toc-highlight">Panes</a><li><a href=#the-ui-service class="table-of-contents__link toc-highlight">The UI Service</a><li><a href=#registering-views class="table-of-contents__link toc-highlight">Registering Views</a><li><a href=#interaction-events class="table-of-contents__link toc-highlight">Interaction Events</a><li><a href=#bezel-rotary-knob-labels class="table-of-contents__link toc-highlight">Bezel Rotary Knob Labels</a><li><a href=#mfd-main-pages class="table-of-contents__link toc-highlight">MFD Main Pages</a><li><a href=#pfd-pages class="table-of-contents__link toc-highlight">PFD Pages</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Docs</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/msfs-avionics-mirror/2024/docs/intro>Getting Started</a><li class=footer__item><a class=footer__link-item href=/msfs-avionics-mirror/2024/docs/api/framework/globals>Framework API Reference</a><li class=footer__item><a class=footer__link-item href=/msfs-avionics-mirror/2024/docs/api/garminsdk/globals>Garmin API Reference</a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://forums.flightsimulator.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>MSFS Forums<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://discord.gg/msfs target=_blank rel="noopener noreferrer" class=footer__link-item>MSFS Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://devsupport.flightsimulator.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>MSFS Dev Support AnswerHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://discord.com/invite/Fa6w2xK target=_blank rel="noopener noreferrer" class=footer__link-item>Working Title Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.flightsimulator.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>Microsoft Flight Simulator<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://github.com/microsoft/msfs-avionics-mirror target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 Microsoft, Asobo Studio, and Working Title Simulations. Built with Docusaurus.</div></div></div></footer></div>