"use strict";(self.webpackChunkdocs_api=self.webpackChunkdocs_api||[]).push([[82021],{3905:(e,t,i)=>{i.d(t,{Zo:()=>d,kt:()=>m});var n=i(67294);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var s=n.createContext({}),u=function(e){var t=n.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):l(l({},t),e)),i},d=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var i=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=u(i),h=a,m=c["".concat(s,".").concat(h)]||c[h]||p[h]||r;return i?n.createElement(m,l(l({ref:t},d),{},{components:i})):n.createElement(m,l({ref:t},d))}));function m(e,t){var i=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=i.length,l=new Array(r);l[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:a,l[1]=o;for(var u=2;u<r;u++)l[u]=i[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,i)}h.displayName="MDXCreateElement"},62110:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var n=i(87462),a=(i(67294),i(3905));const r={sidebar_label:"CDI/HSI Options",sidebar_position:3},l="CDI/HSI Configuration Options",o={unversionedId:"gns/cdi",id:"gns/cdi",title:"CDI/HSI Configuration Options",description:"With the release of the updated GNS 430/530 new options for driving a CDI or HSI have been introduced. They now specifically support:",source:"@site/docs/gns/cdi.md",sourceDirName:"gns",slug:"/gns/cdi",permalink:"/msfs-avionics-mirror/docs/gns/cdi",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_label:"CDI/HSI Options",sidebar_position:3},sidebar:"sidebar",previous:{title:"Autopilot Options",permalink:"/msfs-avionics-mirror/docs/gns/autopilot"},next:{title:"Dual Same-Type GNS",permalink:"/msfs-avionics-mirror/docs/gns/dualgns"}},s={},u=[{value:"Legacy Mode / Backwards Compatibility",id:"legacy-mode--backwards-compatibility",level:2},{value:"New CDI Source Selection Behavior",id:"new-cdi-source-selection-behavior",level:2},{value:"Configuring the CDI for the New Behavior",id:"configuring-the-cdi-for-the-new-behavior",level:2},{value:"Linking the CDI Instrument to the GPS Instrument",id:"linking-the-cdi-instrument-to-the-gps-instrument",level:3},{value:"Setting the CDI Source",id:"setting-the-cdi-source",level:3},{value:"Lateral Guidance Needle",id:"lateral-guidance-needle",level:3},{value:"Localizer (lateral guidance) Validity Flag",id:"localizer-lateral-guidance-validity-flag",level:3},{value:"Glideslope (vertical guidance) Validity Flag",id:"glideslope-vertical-guidance-validity-flag",level:3},{value:"GPS Vertical Guidance Without Split-CDI",id:"gps-vertical-guidance-without-split-cdi",level:2},{value:"Vertical Guidance Needle",id:"vertical-guidance-needle",level:3},{value:"Glideslope (vertical guidance) Validity Flag",id:"glideslope-vertical-guidance-validity-flag-1",level:3}],d={toc:u},c="wrapper";function p(e){let{components:t,...i}=e;return(0,a.kt)(c,(0,n.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"cdihsi-configuration-options"},"CDI/HSI Configuration Options"),(0,a.kt)("p",null,"With the release of the updated GNS 430/530 new options for driving a CDI or HSI have been introduced. They now specifically support:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Separate CDI source selection when multiple GNS units are installed"),(0,a.kt)("li",{parentName:"ul"},"Driving vertical guidance from a GPS source (for RNAV-type approaches with vertical guidance)"),(0,a.kt)("li",{parentName:"ul"},"Support for dual GNS units of the same type (for example two GNS530s or two GNS430s)")),(0,a.kt)("h2",{id:"legacy-mode--backwards-compatibility"},"Legacy Mode / Backwards Compatibility"),(0,a.kt)("p",null,"A cockpit panel developer may elect to not use these new capabilities at all, and the existing behavior will continue to function."),(0,a.kt)("h2",{id:"new-cdi-source-selection-behavior"},"New CDI Source Selection Behavior"),(0,a.kt)("p",null,'The updated GNS 430/530 package allows for each installed GNS unit to have its own CDI source selected;  for example you could have a GNS 530 on NAV/COM1 with GPS set as the CDI source, while having a GNS 430 tied to NAV/COM2 with VLOC set as the CDI source, and the CDI "wired" to each GNS displays correct annunciations and lateral/vertical guidance.'),(0,a.kt)("p",null,"To use this new capability, developers must first update the ",(0,a.kt)("inlineCode",{parentName:"p"},"panel.xml")," file to activate the feature. To do this, find each ",(0,a.kt)("inlineCode",{parentName:"p"},"<Instrument>")," tag for a GNS, and add a ",(0,a.kt)("inlineCode",{parentName:"p"},"<NewCDIBehavior>")," tag under the instrument set to ",(0,a.kt)("em",{parentName:"p"},"true"),".  For a mixed 530/430 configuration:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},"<Instrument>\n  <Name>AS530</Name>\n  <NewCDIBehavior>True</NewCDIBehavior>\n  <NavIndex>1</NavIndex>\n  <ComIndex>1</ComIndex>\n</Instrument>\n\n<Instrument>\n  <Name>AS430</Name>\n  <NewCDIBehavior>True</NewCDIBehavior>\n  <NavIndex>2</NavIndex>\n  <ComIndex>2</ComIndex>\n</Instrument>\n")),(0,a.kt)("p",null,"If the ",(0,a.kt)("inlineCode",{parentName:"p"},"<NewCDIBehavior>")," tag is either omitted or set to ",(0,a.kt)("em",{parentName:"p"},"false"),", legacy behavior will govern CDI behavior, and if the tag exists and is set to ",(0,a.kt)("em",{parentName:"p"},"true"),", then the New CDI Behavior will govern."),(0,a.kt)("p",null,"Additionally, in your internal model XML file, the templates for the GNS units will need to have the ",(0,a.kt)("inlineCode",{parentName:"p"},"EXTERNAL_AUTOPILOT_BEHAVIOR_CONTROL")," parameter added to them:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<UseTemplate Name="ASOBO_AS530_Template">\n  <EXTERNAL_AUTOPILOT_BEHAVIOR_CONTROL />\n</UseTemplate>\n')),(0,a.kt)("h2",{id:"configuring-the-cdi-for-the-new-behavior"},"Configuring the CDI for the New Behavior"),(0,a.kt)("p",null,"Once the GNS has been configured for the new CDI behavior, you must also configure the actual CDI to listen to the correct variables from the simulator."),(0,a.kt)("h3",{id:"linking-the-cdi-instrument-to-the-gps-instrument"},"Linking the CDI Instrument to the GPS Instrument"),(0,a.kt)("p",null,"The GNS units will index themselves, starting at index 1, for each type of GNS, and will publish CDI source information in an LVAR according to the type of GNS and the index of that type of GNS."),(0,a.kt)("p",null,"Examples:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Aircraft with one GNS 530 as NAV/COM1, and one GNS 430 as NAV/COM2 (like the default steam\ngauge C172):",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"NAV/COM 1 is the first GNS530, so it will use ",(0,a.kt)("inlineCode",{parentName:"li"},"AS530_CDI_Source_1")),(0,a.kt)("li",{parentName:"ul"},"NAV/COM 2 is the first GNS430, so it will use ",(0,a.kt)("inlineCode",{parentName:"li"},"AS430_CDI_Source_1")))),(0,a.kt)("li",{parentName:"ul"},"Aircraft with two GNS 530s, one each as NAV/COM1 and NAV/COM2:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"NAV/COM 1 is the first GNS530, so it will use ",(0,a.kt)("inlineCode",{parentName:"li"},"AS530_CDI_Source_1")),(0,a.kt)("li",{parentName:"ul"},"NAV/COM 2 is the second GNS530 also, so it will use ",(0,a.kt)("inlineCode",{parentName:"li"},"AS530_CDI_Source_2"))))),(0,a.kt)("h3",{id:"setting-the-cdi-source"},"Setting the CDI Source"),(0,a.kt)("p",null,"The GNS unit will set the CDI Source LVAR (",(0,a.kt)("em",{parentName:"p"},"eg")," ",(0,a.kt)("inlineCode",{parentName:"p"},"AS530_CDI_Source_1"),") to ",(0,a.kt)("em",{parentName:"p"},"true (1)")," if the source for that CDI is GPS, and will set it to ",(0,a.kt)("em",{parentName:"p"},"false (0)")," if the source is the tuned NAV radio (VLOC mode). In this way, the two GNS units can be set separately \u2013- for example one GPS unit can be set to GPS mode while the other is set to VLOC mode and the CDIs will display correctly for both radios."),(0,a.kt)("h3",{id:"lateral-guidance-needle"},"Lateral Guidance Needle"),(0,a.kt)("p",null,"The CDI should be configured to use the values from ",(0,a.kt)("inlineCode",{parentName:"p"},"A:GPS CDI NEEDLE")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"A:NAV CDI:<index>")," depending on whether the source is set to GPS or VLOC."),(0,a.kt)("p",null,"RPN example for a GNS530 configured as NAV/COM1:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"(L:AS530_CDI_Source_1, Bool) if {\n  (A:GPS CDI NEEDLE, Number) 127 +\n} els{\n  (A:NAV CDI:1, Number) 127 +\n}\n")),(0,a.kt)("h3",{id:"localizer-lateral-guidance-validity-flag"},"Localizer (lateral guidance) Validity Flag"),(0,a.kt)("p",null,"To detect whether there is a valid lateral guidance source for the CDI, you need to determine first what CDI source is set for the CDI and then determine whether there is valid guidance for that source."),(0,a.kt)("p",null,"RPN example for a GNS530 configured as NAV/COM1:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"(A:GPS IS ACTIVE FLIGHT PLAN, Bool)\n(A:NAV HAS NAV:1)\n(L:AS530_CDI_Source_1, Bool) ?\n")),(0,a.kt)("h3",{id:"glideslope-vertical-guidance-validity-flag"},"Glideslope (vertical guidance) Validity Flag"),(0,a.kt)("p",null,"To detect whether there is a valid vertical guidance source for the CDI GSI, you need to determine first what CDI source is set for the CDI and then determine whether there is valid guidance for that source."),(0,a.kt)("p",null,"RPN example for a GNS530 configured as NAV/COM1:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"(A:GPS HAS GLIDEPATH, Bool)\n(A:NAV HAS GLIDE SLOPE:1)\n(L:AS530_CDI_Source_1, Bool) ?\n")),(0,a.kt)("h2",{id:"gps-vertical-guidance-without-split-cdi"},"GPS Vertical Guidance Without Split-CDI"),(0,a.kt)("p",null,"Developers can also choose to display vertical guidance for GPS approaches without having to implement the split CDI behavior if preferred. To do so, the following examples apply:"),(0,a.kt)("h3",{id:"vertical-guidance-needle"},"Vertical Guidance Needle"),(0,a.kt)("p",null,"The CDI should be configured to use the values from ",(0,a.kt)("inlineCode",{parentName:"p"},"A:GPS GSI NEEDLE")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"A:NAV GSI:1")," depending on whether the source is set to GPS or VLOC."),(0,a.kt)("p",null,"RPN example for a GNS unit configured as NAV/COM1:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"(A:GPS DRIVES NAV1, Bool) if {\n  (A:GPS GSI NEEDLE, Number) 127 +\n} els{\n  (A:NAV GSI:1, Number) 127 +\n}\n")),(0,a.kt)("h3",{id:"glideslope-vertical-guidance-validity-flag-1"},"Glideslope (vertical guidance) Validity Flag"),(0,a.kt)("p",null,"To detect whether there is a valid vertical guidance source for the CDI GSI, you need to determine first\nwhat CDI source is set for the CDI and then determine whether there is valid guidance for that source."),(0,a.kt)("p",null,"RPN example for a GNS unit configured as NAV/COM1:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"(A:GPS HAS GLIDEPATH, Bool)\n(A:NAV HAS GLIDE SLOPE:1)\n(A:GPS DRIVES NAV1, Bool) ?\n")))}p.isMDXComponent=!0}}]);