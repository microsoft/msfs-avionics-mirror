"use strict";(self.webpackChunkdocs_api=self.webpackChunkdocs_api||[]).push([[13105],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},f=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(n),f=a,m=d["".concat(c,".").concat(f)]||d[f]||u[f]||r;return n?i.createElement(m,o(o({ref:t},p),{},{components:n})):i.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=f;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}f.displayName="MDXCreateElement"},52558:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var i=n(87462),a=(n(67294),n(3905));const r={sidebar_label:"The Page Lifecycle",sidebar_position:7},o="The Page Lifecycle",l={unversionedId:"fmc/page-lifecycle",id:"fmc/page-lifecycle",title:"The Page Lifecycle",description:"An FMC page has a lifecycle similar to a Subscriptions. It is automatically resumed, paused and destroyed by the FMC screen. Additionally, it has an initialization callback for when it is first created. Considering this, it is important to understand this lifecycle inorder to properly manage",source:"@site/docs/fmc/page-lifecycle.md",sourceDirName:"fmc",slug:"/fmc/page-lifecycle",permalink:"/msfs-avionics-mirror/docs/fmc/page-lifecycle",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_label:"The Page Lifecycle",sidebar_position:7},sidebar:"sidebar",previous:{title:"Interaction with Components",permalink:"/msfs-avionics-mirror/docs/fmc/interaction-with-components"},next:{title:"Page Routing",permalink:"/msfs-avionics-mirror/docs/fmc/page-routing"}},c={},s=[{value:"Binding subscriptions to the page&#39;s lifecycle",id:"binding-subscriptions-to-the-pages-lifecycle",level:2},{value:"Page lifecycle callbacks",id:"page-lifecycle-callbacks",level:2},{value:"<code>onInit</code>",id:"oninit",level:3},{value:"<code>onResume</code>",id:"onresume",level:3},{value:"<code>onPaused</code>",id:"onpaused",level:3},{value:"<code>onDestroyed</code>",id:"ondestroyed",level:3},{value:"Page lifecycle policies",id:"page-lifecycle-policies",level:2}],p={toc:s},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"the-page-lifecycle"},"The Page Lifecycle"),(0,a.kt)("p",null,"An FMC page has a lifecycle similar to a ",(0,a.kt)("a",{parentName:"p",href:"/docs/subscriptions/intro-to-subscriptions"},(0,a.kt)("inlineCode",{parentName:"a"},"Subscriptions")),". It is automatically resumed, paused and destroyed by the FMC screen. Additionally, it has an initialization callback for when it is first created. Considering this, it is important to understand this lifecycle inorder to properly manage\nany data the page depends on."),(0,a.kt)("h2",{id:"binding-subscriptions-to-the-pages-lifecycle"},"Binding subscriptions to the page's lifecycle"),(0,a.kt)("p",null,"It is possible to easily bind any ",(0,a.kt)("inlineCode",{parentName:"p"},"Subscription")," to the lifecycle of a page by using the ",(0,a.kt)("inlineCode",{parentName:"p"},"addBinding()")," method on the page."),(0,a.kt)("p",null,"By doing this, any subscription bound in this way will be resumed, paused and destroyed at the same time as the page."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Binding subscriptions is not desirable if you wish for the page to consume data even when it is paused - for example, if you wish to update\na data store on a page when flight planning events are received, subscriptions will not be notified of such events if they are paused along\nwith their containing page."),(0,a.kt)("p",{parentName:"admonition"},"You can work around this by either"),(0,a.kt)("p",{parentName:"admonition"},"a) not binding the subscription to the page lifetime; or\nb) re-generating the data stored in the page from the current state in the page ",(0,a.kt)("inlineCode",{parentName:"p"},"onResume()")," callback.")),(0,a.kt)("h2",{id:"page-lifecycle-callbacks"},"Page lifecycle callbacks"),(0,a.kt)("p",null,"The follow callbacks are available to be overridden on ",(0,a.kt)("inlineCode",{parentName:"p"},"AbstractFmcPage"),":"),(0,a.kt)("h3",{id:"oninit"},(0,a.kt)("inlineCode",{parentName:"h3"},"onInit")),(0,a.kt)("p",null,"Called after the page is constructed."),(0,a.kt)("h3",{id:"onresume"},(0,a.kt)("inlineCode",{parentName:"h3"},"onResume")),(0,a.kt)("p",null,"Called when the page is navigated to."),(0,a.kt)("h3",{id:"onpaused"},(0,a.kt)("inlineCode",{parentName:"h3"},"onPaused")),(0,a.kt)("p",null,"Called when the page is navigated away from."),(0,a.kt)("h3",{id:"ondestroyed"},(0,a.kt)("inlineCode",{parentName:"h3"},"onDestroyed")),(0,a.kt)("p",null,"Called when the page is being destroyed."),(0,a.kt)("h2",{id:"page-lifecycle-policies"},"Page lifecycle policies"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"AbstractFmcPage")," has a static member called ",(0,a.kt)("inlineCode",{parentName:"p"},"lifecyclePolicy"),", which can be overridden to one of the following two values:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Singleton")," (default) - the page is only created once, when it is first navigated to, and always kept in memory afterwards;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Transient")," - the page is created every time it is navigated to.")))}u.isMDXComponent=!0}}]);