"use strict";(self.webpackChunkdocs_api=self.webpackChunkdocs_api||[]).push([[70939],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var r=a.createContext({}),p=function(e){var t=a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(r.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,r=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(n),h=i,u=m["".concat(r,".").concat(h)]||m[h]||c[h]||s;return n?a.createElement(u,l(l({ref:t},d),{},{components:n})):a.createElement(u,l({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,l=new Array(s);l[0]=h;var o={};for(var r in t)hasOwnProperty.call(t,r)&&(o[r]=t[r]);o.originalType=e,o[m]="string"==typeof e?e:i,l[1]=o;for(var p=2;p<s;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},70816:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>l,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const s={sidebar_label:"Display Panes",sidebar_position:9},l="G3000 Display Panes",o={unversionedId:"g3000/display-panes",id:"g3000/display-panes",title:"G3000 Display Panes",description:"Introduction",source:"@site/docs/g3000/display-panes.md",sourceDirName:"g3000",slug:"/g3000/display-panes",permalink:"/msfs-avionics-mirror/docs/g3000/display-panes",draft:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_label:"Display Panes",sidebar_position:9},sidebar:"sidebar",previous:{title:"GTC Plugins",permalink:"/msfs-avionics-mirror/docs/g3000/gtc-plugins"},next:{title:"GTC Framework",permalink:"/msfs-avionics-mirror/docs/g3000/gtc-framework"}},r={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Pane Basics",id:"pane-basics",level:2},{value:"Pane Dimensions",id:"pane-dimensions",level:2},{value:"Pane Views",id:"pane-views",level:2},{value:"Pane View Lifecycle Callbacks",id:"pane-view-lifecycle-callbacks",level:2},{value:"<code>onResume()</code>",id:"onresume",level:3},{value:"<code>onUpdate()</code>",id:"onupdate",level:3},{value:"<code>onResize()</code>",id:"onresize",level:3},{value:"<code>onPause()</code>",id:"onpause",level:3},{value:"Example",id:"example",level:3},{value:"Designated Pane Views",id:"designated-pane-views",level:2},{value:"Display Pane User Settings",id:"display-pane-user-settings",level:2},{value:"Controlling Panes",id:"controlling-panes",level:2},{value:"Controlling Pane Views",id:"controlling-pane-views",level:2},{value:"Full Example of a Pane View",id:"full-example-of-a-pane-view",level:2}],d={toc:p},m="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(m,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"g3000-display-panes"},"G3000 Display Panes"),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"Display panes are window-like elements found on the G3000 MFD and PFDs that present various graphical and textual information, such as moving maps and systems synoptics, in a modular fashion. Each pane can display multiple ",(0,i.kt)("em",{parentName:"p"},"views"),", though only one view can be visible at a time. Panes can also be hidden and resized. The user controls display panes through the touchscreen controllers (GTCs)."),(0,i.kt)("h2",{id:"pane-basics"},"Pane Basics"),(0,i.kt)("p",null,"Each MFD and PFD contains two display panes, for a total of six when the full set of two PFDs and one MFD is included in an installation. One display pane on each PFD is always reserved for the primary instruments display; this pane is always visible and cannot display any other view. The other display panes (up to four total) can be fully controlled by the user. Each display pane is referenced by a numeric index. The indexes are defined by the ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneIndex")," enum."),(0,i.kt)("p",null,"Panes can be either hidden, full-size or half-size. The controllable PFD pane is hidden when the PFD is in Full mode and half-size when the PFD is in Split mode (it is never full-size). Each of the two MFD panes can be in any of these three states depending whether the MFD is in Full mode or Half mode."),(0,i.kt)("h2",{id:"pane-dimensions"},"Pane Dimensions"),(0,i.kt)("p",null,"This table presents the dimensions of the various display panes, which may be helpful when laying out pane views:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Pane"),(0,i.kt)("th",{parentName:"tr",align:null},"Size"),(0,i.kt)("th",{parentName:"tr",align:null},"Width (px)"),(0,i.kt)("th",{parentName:"tr",align:null},"Height (px)"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PFD (instrument)"),(0,i.kt)("td",{parentName:"tr",align:null},"Full"),(0,i.kt)("td",{parentName:"tr",align:null},"1280"),(0,i.kt)("td",{parentName:"tr",align:null},"800")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PFD (instrument)"),(0,i.kt)("td",{parentName:"tr",align:null},"Half"),(0,i.kt)("td",{parentName:"tr",align:null},"768"),(0,i.kt)("td",{parentName:"tr",align:null},"800")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PFD (controllable)"),(0,i.kt)("td",{parentName:"tr",align:null},"Half"),(0,i.kt)("td",{parentName:"tr",align:null},"508"),(0,i.kt)("td",{parentName:"tr",align:null},"778")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MFD"),(0,i.kt)("td",{parentName:"tr",align:null},"Full"),(0,i.kt)("td",{parentName:"tr",align:null},"995"),(0,i.kt)("td",{parentName:"tr",align:null},"748")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"MFD"),(0,i.kt)("td",{parentName:"tr",align:null},"Half"),(0,i.kt)("td",{parentName:"tr",align:null},"495"),(0,i.kt)("td",{parentName:"tr",align:null},"748")))),(0,i.kt)("p",null,"These dimensions only include the ",(0,i.kt)("em",{parentName:"p"},"usable")," space available to views in the pane, and exclude any pane headers or borders."),(0,i.kt)("h2",{id:"pane-views"},"Pane Views"),(0,i.kt)("p",null,"Each display pane displays one of many possible views at a time. Display pane views contain the bulk of the visual content of a pane. All display pane views are implemented as FS components that extend the abstract class ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneView"),"."),(0,i.kt)("p",null,"Views should define a title that will appear in the header of its parent pane. View titles can be defined as a simple string or a ",(0,i.kt)("inlineCode",{parentName:"p"},"VNode"),". No matter how a title is defined, its rendered form must fit within a single line in the pane header."),(0,i.kt)("p",null,"Here is an example of a simple pane view that has the title ",(0,i.kt)("em",{parentName:"p"},"CURRENT TIME")," but doesn't do much else:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import { DisplayPaneView } from '@microsoft/msfs-wtg3000-common';\n\nexport class TimePaneView extends DisplayPaneView {\n  private readonly time = Subject.create('');\n\n  public onAfterRender(): void {\n    // Sets the title of the view.\n    this._title.set('CURRENT TIME');\n  }\n\n  public render(): VNode {\n    return (\n      <div>{this.time}</div>\n    );\n  }\n}\n")),(0,i.kt)("p",null,"Each view must be registered with an appropriate display pane view factory before it can be displayed in a pane. Views are registered under specific keys. These keys are then used to reference views in an abstract manner. If multiple views are registered with the same factory under the same key, the most recent view to be registered will replace the older views."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneViewKeys")," enum contains all display pane view keys defined and used by the base G3000.")),(0,i.kt)("p",null,"Views can be created as half-size-only views by setting their ",(0,i.kt)("inlineCode",{parentName:"p"},"halfSizeOnly")," prop to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),". These views can only be displayed in half-size panes. Attempting to display a half-size-only view in a full-size MFD pane will force the MFD into Half mode. If a half-size-only view is active in a half-size MFD pane, the user will not be able to switch the MFD to Full mode with that pane as the full-size pane."),(0,i.kt)("h2",{id:"pane-view-lifecycle-callbacks"},"Pane View Lifecycle Callbacks"),(0,i.kt)("p",null,"Each display pane view has access to four lifecycle callback methods defined in the ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneView")," abstract class. By default, these methods do nothing, so a view must override them in order to provide its own functionality."),(0,i.kt)("h3",{id:"onresume"},(0,i.kt)("inlineCode",{parentName:"h3"},"onResume()")),(0,i.kt)("p",null,"This method is called when a view transitions from not visible to visible. This could be because it became the active view or because its parent pane exited the hidden state."),(0,i.kt)("p",null,"The current size of the view's parent pane (full or half) and its dimensions are passed to the method as parameters."),(0,i.kt)("p",null,"All views are created as initially not visible. Therefore, ",(0,i.kt)("inlineCode",{parentName:"p"},"onResume()")," is guaranteed to be called before the first time the view becomes visible to the user."),(0,i.kt)("h3",{id:"onupdate"},(0,i.kt)("inlineCode",{parentName:"h3"},"onUpdate()")),(0,i.kt)("p",null,"This method is called regularly whenever the view is visible (i.e. when it is active and its parent pane is not hidden). This makes it a good place from which to run updates that only need to occur when the user can ",(0,i.kt)("em",{parentName:"p"},"see")," the changes. The first call to ",(0,i.kt)("inlineCode",{parentName:"p"},"onUpdate()")," after a view becomes visible is guaranteed to come ",(0,i.kt)("em",{parentName:"p"},"after")," the call to ",(0,i.kt)("inlineCode",{parentName:"p"},"onResume()"),"."),(0,i.kt)("p",null,"The frequency with which ",(0,i.kt)("inlineCode",{parentName:"p"},"onUpdate()")," is called is tied to the Javascript instrument's refresh rate (itself a function of the sim's framerate and the cockpit refresh rate setting). Addtionally, ",(0,i.kt)("inlineCode",{parentName:"p"},"onUpdate()")," is throttled when a display pane is half-size such that the two half-size panes on the same instrument will alternate updates with each instrument refresh cycle (pane A updates on cycle 1, pane B on cycle 2, pane A on cycle 3, and so on)."),(0,i.kt)("h3",{id:"onresize"},(0,i.kt)("inlineCode",{parentName:"h3"},"onResize()")),(0,i.kt)("p",null,"This method is called when the view's parent pane is resized while the view is visible. The new size of the view's parent pane (full or half) and its dimensions are passed to the method as parameters."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"onResize()")," is not called when a view is not visible. Therefore, it is always recommended to also use the size information passed to the ",(0,i.kt)("a",{parentName:"p",href:"#onresume"},(0,i.kt)("inlineCode",{parentName:"a"},"onResume()"))," method to update the view as necessary when it becomes visible.")),(0,i.kt)("h3",{id:"onpause"},(0,i.kt)("inlineCode",{parentName:"h3"},"onPause()")),(0,i.kt)("p",null,"This method is called when a view transitions from visible to not visible."),(0,i.kt)("h3",{id:"example"},"Example"),(0,i.kt)("p",null,"Building on our ",(0,i.kt)("inlineCode",{parentName:"p"},"TimePaneView")," example from above, we can use lifecycle methods to have the view display the current operating system time and dynamically adjust its font to be larger when the view's parent pane is full-size (unchanged code from the prior version has been elided):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import { DisplayPaneSizeMode, DisplayPaneView } from '@microsoft/msfs-wtg3000-common';\n\nexport class TimePaneView extends DisplayPaneView {\n  private readonly style = ObjectSubject.create({\n    'font-size': '16px'\n  });\n\n  // ...\n\n  public onResume(size: DisplayPaneSizeMode): void {\n    this.updateFontSize(size);\n  }\n\n  public onResize(size: DisplayPaneSizeMode): void {\n    this.updateFontSize(size);\n  }\n\n  private updateFontSize(size: DisplayPaneSizeMode): void {\n    // Updates font size to take advantage of wider panes in full mode.\n    if (size === DisplayPaneSizeMode.Full) {\n      this.style.set('font-size', '24px');\n    } else {\n      this.style.set('font-size', '16px');\n    }\n  }\n  \n  public onUpdate(time: number): void {\n    // Updates the displayed time string.\n    this.time.set(new Date(time).toUTCString())\n  }\n\n  public render(): VNode {\n    return (\n      <div style={this.style}>{this.time}</div>\n    );\n  }\n}\n")),(0,i.kt)("h2",{id:"designated-pane-views"},"Designated Pane Views"),(0,i.kt)("p",null,"Each display pane has a set of what are known as ",(0,i.kt)("em",{parentName:"p"},"designated views"),'. These views function as sort of the "default" active views for a pane. Of these designated views, one is the primary designated view and the others are context-specific designated views.'),(0,i.kt)("p",null,"The primary designated view for a pane is the view that is chosen to replace a closed view as the pane's active view when no other specific replacement view has been selected."),(0,i.kt)("p",null,"Context-specific designated views function similarly to the primary designated view, except (as their name implies) only under specific contexts. For example, the designated weather view applies only when the user has selected the Weather button on the GTC MFD Home page. The primary designated view should always be equal to a context-specific designated view while its context is active. While its context is not active, a context-specific designated view typically retains its most recent value until its context becomes active again."),(0,i.kt)("p",null,"Designated pane views are typically selected by the user using the GTCs. Designated pane view logic is ",(0,i.kt)("em",{parentName:"p"},"not")," handled automatically and must be manually implemented by any GTC view that wishes to work with designated views. The ",(0,i.kt)("inlineCode",{parentName:"p"},"GtcDesignatedPaneButton")," component is provided to facilitate creation of buttons that control designated pane views."),(0,i.kt)("h2",{id:"display-pane-user-settings"},"Display Pane User Settings"),(0,i.kt)("p",null,"There are a number of user settings related to display panes. These can be accessed to retrieve information about display pane state, or in some instances, to control certain aspects of panes."),(0,i.kt)("p",null,"Display pane user settings are defined on a per-pane basis. The settings for all panes are included in the ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneAllUserSettingTypes")," type. All setting names are suffixed with the index of the pane to which they apply. The setting names without the index suffixes are included in the ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneSettings")," type. The static methods in the ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPanesUserSettings")," utility class can be used to retrieve managers for either all pane settings or aliased settings (without the index suffix) for a specific pane."),(0,i.kt)("p",null,"Only a subset of display pane user settings are meant to be modified by code outside of the core display pane system. The rest are to be treated as read-only. The following table lists which ones are which."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Setting Name (Aliased)"),(0,i.kt)("th",{parentName:"tr",align:null},"Modifiable"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"displayPaneVisible")),(0,i.kt)("td",{parentName:"tr",align:null},"No")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"displayPaneView")),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"displayPaneDesignatedView")),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"displayPaneDesignatedWeatherView")),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"displayPaneController")),(0,i.kt)("td",{parentName:"tr",align:null},"No")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"displayPaneHalfSizeOnly")),(0,i.kt)("td",{parentName:"tr",align:null},"No")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"displayPaneMapPointerActive")),(0,i.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,i.kt)("h2",{id:"controlling-panes"},"Controlling Panes"),(0,i.kt)("p",null,"Display panes can be controlled via a combination of user settings (see above) and commands sent over the event bus. Display pane event bus commands are defined by the ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneControlEvents")," type. When publishing event bus commands, the ",(0,i.kt)("inlineCode",{parentName:"p"},"sync")," option must be set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),", and the ",(0,i.kt)("inlineCode",{parentName:"p"},"cached")," option must be set to ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,i.kt)("p",null,"Controlling the visibility and size of panes is accomplished by sending the ",(0,i.kt)("inlineCode",{parentName:"p"},"toggle_pfd_split")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"toggle_mfd_split")," events. These events will toggle the PFD between Full and Split mode, and the MFD between Full and Half mode, respectively. You will generally not need to use these events since the logic is already handled by the base G3000 package."),(0,i.kt)("p",null,"Controlling the active view displayed by a pane is accomplished by writing the key of the view to the appropriate pane-specific ",(0,i.kt)("inlineCode",{parentName:"p"},"displayPaneView")," user setting. Likewise, the ",(0,i.kt)("inlineCode",{parentName:"p"},"displayPaneDesignatedView")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"displayPaneDesignatedWeatherView")," settings control the designated views for a pane."),(0,i.kt)("p",null,"Controlling which GTC controls which pane is accomplished by sending the ",(0,i.kt)("inlineCode",{parentName:"p"},"gtc_1_display_pane_select"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"gtc_2_display_pane_select"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"change_display_pane_select_left"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"change_display_pane_select_right")," events. You will generally not need to use these events since the logic is already handled by the base G3000 package."),(0,i.kt)("h2",{id:"controlling-pane-views"},"Controlling Pane Views"),(0,i.kt)("p",null,"Commands can be sent to display pane views by publishing the ",(0,i.kt)("inlineCode",{parentName:"p"},"display_pane_view_event")," topic to the event bus. The topic should always be published with the ",(0,i.kt)("inlineCode",{parentName:"p"},"sync")," option set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"cached")," option set to ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"display_pane_view_event")," topic requires a data packet in the form of an object that extends the ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneViewEvent")," interface. The data packet defines the index of the pane that is the target of the command. Only the ",(0,i.kt)("em",{parentName:"p"},"active")," view of the specified pane will receive the command. The data packet also defines an event type (an arbitrary string) and additional data specific to that event type."),(0,i.kt)("p",null,"Display pane views can respond to commands via the ",(0,i.kt)("inlineCode",{parentName:"p"},"onEvent()")," callback method, which accepts the received command event as its only parameter. By default, the event passed into ",(0,i.kt)("inlineCode",{parentName:"p"},"onEvent()")," is typed such that it can have any arbitrary string as its event type and event data of type ",(0,i.kt)("inlineCode",{parentName:"p"},"any"),". You may optionally elect to narrow the event type accepted by ",(0,i.kt)("inlineCode",{parentName:"p"},"onEvent()")," using the second optional type parameter on ",(0,i.kt)("inlineCode",{parentName:"p"},"DisplayPaneView"),"."),(0,i.kt)("p",null,"For an example of display pane view events in action, we can expand ",(0,i.kt)("inlineCode",{parentName:"p"},"TimePaneView")," from above to have it respond to commands to format the time as UTC or local time (unchanged code from the prior version has been elided):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import { DisplayPaneView, DisplayPaneViewEvent, DisplayPaneViewProps } from '@microsoft/msfs-wtg3000-common';\n\nexport interface TimePaneViewEventTypes {\n  /** Moves the map pointer by `[x, y]` pixels. */\n  time_pane_format_set: 'utc' | 'local';\n}\n\nexport class TimePaneView extends DisplayPaneView<\n  DisplayPaneViewProps,\n  DisplayPaneViewEvent<TimePaneViewEventTypes>\n> {\n\n  private format: 'utc' | 'local' = 'utc';\n\n  // ...\n\n  public onAfterRender(): void {\n    // Sets the title of the view.\n    this._title.set('CURRENT UTC TIME');\n  }\n  \n  public onUpdate(time: number): void {\n    // Updates the displayed time string.\n\n    const date = new Date(time);\n    const text = this.format === 'utc'\n      ? date.toUTCString()\n      : date.toString();\n\n    this.time.set(text);\n  }\n\n  public onEvent(e: DisplayPaneViewEvent<TimePaneViewEventTypes>): void {\n    if (e.eventType === 'time_pane_format_set') {\n      this.format = e.eventData;\n      this._title.set(`CURRENT ${this.format === 'utc' ? 'UTC' : 'LOCAL'} TIME`);\n    }\n  }\n}\n")),(0,i.kt)("h2",{id:"full-example-of-a-pane-view"},"Full Example of a Pane View"),(0,i.kt)("p",null,"Here is the full example pane view that was incrementally built up over the previous sections."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import { FSComponent, ObjectSubject, Subject, VNode } from '@microsoft/msfs-sdk';\nimport {\n  DisplayPaneSizeMode, DisplayPaneView, DisplayPaneViewEvent, DisplayPaneViewProps\n} from '@microsoft/msfs-wtg3000-common';\n\nexport interface TimePaneViewEventTypes {\n  /** Moves the map pointer by `[x, y]` pixels. */\n  time_pane_format_set: 'utc' | 'local';\n}\n\nexport class TimePaneView extends DisplayPaneView<\n  DisplayPaneViewProps,\n  DisplayPaneViewEvent<TimePaneViewEventTypes>\n> {\n\n  private format: 'utc' | 'local' = 'utc';\n  private readonly time = Subject.create('');\n\n  private readonly style = ObjectSubject.create({\n    'font-size': '16px'\n  });\n\n  public onAfterRender(): void {\n    // Sets the title of the view.\n    this._title.set('CURRENT UTC TIME');\n  }\n\n  public onResume(size: DisplayPaneSizeMode): void {\n    this.updateFontSize(size);\n  }\n\n  public onResize(size: DisplayPaneSizeMode): void {\n    this.updateFontSize(size);\n  }\n\n  private updateFontSize(size: DisplayPaneSizeMode): void {\n    // Updates font size to take advantage of wider panes in full mode.\n    if (size === DisplayPaneSizeMode.Full) {\n      this.style.set('font-size', '24px');\n    } else {\n      this.style.set('font-size', '16px');\n    }\n  }\n  \n  public onUpdate(time: number): void {\n    // Updates the displayed time string.\n\n    const date = new Date(time);\n    const text = this.format === 'utc'\n      ? date.toUTCString()\n      : date.toString();\n\n    this.time.set(text);\n  }\n\n  public onEvent(e: DisplayPaneViewEvent<TimePaneViewEventTypes>): void {\n    if (e.eventType === 'time_pane_format_set') {\n      this.format = e.eventData;\n      this._title.set(`CURRENT ${this.format === 'utc' ? 'UTC' : 'LOCAL'} TIME`);\n    }\n  }\n\n  public render(): VNode {\n    return (\n      <div style={this.style}>{this.time}</div>\n    );\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"TimePaneView")," displays the operating system time. It dynamically adjusts the size of its font to be larger when its parent pane is full-size. It will switch between formatting the time as UTC time and local time based on display pane view events sent to it by outside code. Finally, its title is set to either ",(0,i.kt)("em",{parentName:"p"},'"CURRENT UTC TIME"')," or ",(0,i.kt)("em",{parentName:"p"},'"CURRENT LOCAL TIME"'),", depending on how it is formatting the displayed time."))}c.isMDXComponent=!0}}]);